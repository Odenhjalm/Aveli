# Copy this file to .env for local development. Never commit the real file.
# Generate secrets with `openssl rand -hex 32` (or 64 when noted).

# --- Application ---
APP_ENV=development
FRONTEND_URL=http://localhost:3000
API_BASE_URL=http://127.0.0.1:8000
DEBUG=true

# --- Supabase ---
SUPABASE_PROJECT_REF=your-project-ref
SUPABASE_URL=https://${SUPABASE_PROJECT_REF}.supabase.co
SUPABASE_ANON_KEY=replace-with-anon-key
SUPABASE_SERVICE_ROLE_KEY=replace-with-service-role-key
SUPABASE_DB_URL=postgresql://postgres.${SUPABASE_PROJECT_REF}:replace-with-password@aws-1-eu-north-1.pooler.supabase.com:5432/postgres?sslmode=require
DATABASE_URL=${SUPABASE_DB_URL}
SUPABASE_DB_PASSWORD=replace-with-db-password
SUPABASE_JWT_SECRET=replace-with-supabase-jwt-secret
SUPABASE_PAT=replace-with-mcp-pat # required for MCP tooling

# --- Backend Auth ---
JWT_SECRET=generate-64-hex-secret
JWT_ALGORITHM=HS256
MEDIA_SIGNING_SECRET=generate-64-hex-secret
MEDIA_SIGNING_TTL_SECONDS=600
LESSON_MEDIA_MAX_BYTES=2147483648

# --- Stripe ---
# Core PaymentIntent + Connect (PaymentSheet/Payment Element)
STRIPE_SECRET_KEY=sk_test_replace
STRIPE_PUBLISHABLE_KEY=pk_test_replace
STRIPE_WEBHOOK_SECRET=whsec_replace
STRIPE_CHECKOUT_UI_MODE=custom
STRIPE_CONNECT_CLIENT_ID=ca_replace
STRIPE_CONNECT_RETURN_URL=http://localhost:3000/stripe/connect/return
STRIPE_CONNECT_REFRESH_URL=http://localhost:3000/stripe/connect/refresh
STRIPE_MERCHANT_DISPLAY_NAME=AVELI Dev

# Billing subscriptions (modern /api/billing/* flow)
STRIPE_PRICE_MONTHLY=price_replace
STRIPE_PRICE_YEARLY=price_replace
STRIPE_BILLING_WEBHOOK_SECRET=whsec_replace

# --- LiveKit ---
LIVEKIT_WS_URL=wss://your-livekit-instance.livekit.cloud
LIVEKIT_API_URL=https://your-livekit-instance.livekit.cloud
LIVEKIT_API_KEY=LK_API_KEY
LIVEKIT_API_SECRET=LK_API_SECRET
LIVEKIT_WEBHOOK_SECRET=lk_webhook_secret

# --- QA / Tooling ---
QA_API_BASE_URL=http://127.0.0.1:8000
QA_BASE_URL=http://127.0.0.1:8000
MEDIA_ALLOW_LEGACY_MEDIA=true

# --- Frontend / Flutter flags ---
STRIPE_ACCOUNT_ID=
SUBSCRIPTIONS_ENABLED=true
